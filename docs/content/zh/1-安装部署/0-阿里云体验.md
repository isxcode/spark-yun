---
title: "阿里云体验"
---

## 使用阿里云抢占服务器体验至轻云平台

#### 1. 抢占阿里云服务器

阿里云链接:  https://ecs.console.aliyun.com/

![20251016173049](https://img.isxcode.com/picgo/20251016173049.png)

> 选择`抢占式实例`，4核心8GB任意选择

![20250813102303](https://img.isxcode.com/picgo/20250813102303.png)

> 选择`Centos 7.9 64位`的系统版本

![20250813102406](https://img.isxcode.com/picgo/20250813102406.png)

> 固定带宽可选

![20251016173437](https://img.isxcode.com/picgo/20251016173437.png)

> 注意！！新建安全组开放端口号: `80`(访问端口必须开放，至轻云默认端口号为8080)

![20250813102638](https://img.isxcode.com/picgo/20250813102638.png)

> 设置root密码

![20250813102834](https://img.isxcode.com/picgo/20250813102834.png)

> 设置抢占时间，创建服务器实例

![20250813102924](https://img.isxcode.com/picgo/20250813102924.png)

> 获取服务器的`内网ip`和`外网ip`

![20251017155830](https://img.isxcode.com/picgo/20251017155830.png)

系统信息如下

> 系统: Centos 7.9
> 资源: 4核8GB
> 外网ip: 47.100.8.119
> 内网ip: 172.19.73.181
> 账号: root
> 密码: Zhiqingyun123..

#### 2. 登录服务器

> 使用Terminal终端登录服务器

```bash
ssh root@47.100.8.119
```

![20250813103252](https://img.isxcode.com/picgo/20250813103252.png)

#### 3. 安装Java环境(在线安装)

```bash
yum install java-1.8.0-openjdk-devel java-1.8.0-openjdk -y 
java -version
```

![20241101180421](https://img.isxcode.com/picgo/20241101180421.png)

#### 4. 安装Docker环境(在线安装)

```bash
sudo yum install -y yum-utils
yum-config-manager --add-repo https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo
sudo yum install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
systemctl start docker
```

![20251016175856](https://img.isxcode.com/picgo/20251016175856.png)

#### 5. Docker启动至轻云

```bash
mkdir -p /var/lib/zhiqingyun
docker run \
    --restart=always \
    --name zhiqingyun \
    -e ADMIN_PASSWORD=admin123 \
    -v /var/lib/zhiqingyun:/var/lib/zhiqingyun \
    -p 80:8080 \
    -d registry.cn-shanghai.aliyuncs.com/isxcode/zhiqingyun:latest-amd64
docker logs -f zhiqingyun
```

#### 6. 访问至轻云平台

> 1M的带宽，首次加载，大约40s

- 访问接口: http://47.100.8.119
- 后台管理员账号: `admin` 
- 默认密码: `admin123`

![20241101181443](https://img.isxcode.com/picgo/20241101181443.png)

#### 7. 创建用户和租户

>  参考产品手册创建用户和租户

- 创建用户`zhiqingyun` 
- 创建租户`体验租户`

#### 8. 上传许可证（可选）

> 仅使用基础功能，不需要上传许可证
> 可免费获取体验许可证，在官网的最下面  

官网链接: https://zhiqingyun.isxcode.com/
许可证下载链接【体验版】: 
https://zhiqingyun-demo.isxcode.com/tools/open/file/license.lic

![20241101181637](https://img.isxcode.com/picgo/20241101181637.png)

#### 9. 添加计算集群

> 退出后台管理界面，使用`zhiqingyun`账号登录

![20241101181813](https://img.isxcode.com/picgo/20241101181813.png)

![20241101181829](https://img.isxcode.com/picgo/20241101181829.png)

![20241101181846](https://img.isxcode.com/picgo/20241101181846.png)

>  选择`StandAlone`的集群类型

![20241101181911](https://img.isxcode.com/picgo/20241101181911.png)

> 点击集群名称，添加服务器节点

![20241101181923](https://img.isxcode.com/picgo/20241101181923.png)

> 推荐使用内网ip
> host: 172.19.73.181
> 用户名:  root
> 密码:  Zhiqingyun123..
> 默认安装Spark:  `打勾`

![20241101182039](https://img.isxcode.com/picgo/20241101182039.png)

![20241101182056](https://img.isxcode.com/picgo/20241101182056.png)

![20241101182118](https://img.isxcode.com/picgo/20241101182118.png)

![20241101182151](https://img.isxcode.com/picgo/20241101182151.png)

#### 10. 添加数据源

> 类型: `H2`
> 链接信息: `jdbc:h2:file:/var/lib/zhiqingyun/h2/data_test;AUTO_SERVER=TRUE` 
> 用户名: `root`
> 密码: `zhiqingyun123`

![20250428114946](https://img.isxcode.com/picgo/20250428114946.png)

![20250428115037](https://img.isxcode.com/picgo/20250428115037.png)

![20250428115102](https://img.isxcode.com/picgo/20250428115102.png)

#### 11. 新建作业流，执行SparkSql查询作业

![20241101183016](https://img.isxcode.com/picgo/20241101183016.png)

![20241101183042](https://img.isxcode.com/picgo/20241101183042.png)

![20241101183120](https://img.isxcode.com/picgo/20241101183120.png)

![20241101183235](https://img.isxcode.com/picgo/20241101183235.png)

![20241101183248](https://img.isxcode.com/picgo/20241101183248.png)

#### 12. 新建Jdbc执行作业

> 选择h2数据源
> 创建两张表，一张原始表一张结果表，并在原始表中插入一条数据

![20241101183356](https://img.isxcode.com/picgo/20241101183356.png)

```sql
-- 原始表
create table users(
    username varchar(100),
    sex int,
    birth datetime
);

-- 结果表
create table users_result(
    username varchar(100),
    sex int,
    birth varchar(100)
);

-- 结果表中插入一条数据
insert into users values('张三',13,now());
```

![20241101183429](https://img.isxcode.com/picgo/20241101183429.png)

#### 13. 新建Jdbc查询作业

> 选择h2数据源
> 通过jdbc查询作业，查看原始表中的数据。

```sql
select * from users;
```

![20241101183455](https://img.isxcode.com/picgo/20241101183455.png)

![20241101183511](https://img.isxcode.com/picgo/20241101183511.png)

#### 14. 新建数据同步作业

![20250428124718](https://img.isxcode.com/picgo/20250428124718.png)

> 使用jdbc查询作业，查询结果

```sql
select * from users_result;
```

![20250312163313](https://img.isxcode.com/picgo/20250312163313.png)

#### 15. 新建Spark自定义作业

> 计算pi的值
> 官方自定义作业模版：https://github.com/isxcode/spark-job-template

- 官网pi计算文件下载:
https://zhiqingyun-demo.isxcode.com/tools/open/file/spark-examples_2.12-3.4.1.jar

> 上传资源中心，选择`作业`类型

![20241101184740](https://img.isxcode.com/picgo/20241101184740.png)

![20241101184813](https://img.isxcode.com/picgo/20241101184813.png)

> 应用名称: `pi-demo`
> mainClass: `org.apache.spark.examples.SparkPi`
> 请求参数: `10`

![20241101184903](https://img.isxcode.com/picgo/20241101184903.png)

![20241101184941](https://img.isxcode.com/picgo/20241101184941.png)

> 点击数据返回，查看pi结果

![20250312182142](https://img.isxcode.com/picgo/20250312182142.png)

#### 更多功能请看产品手册